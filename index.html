<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b0f18">
  <title>Smartphone Tycoon</title>

  <link rel="stylesheet" href="./style.css?v=1">
</head>

<body>

  <!-- INTRO -->
  <div id="intro-screen" aria-hidden="true">
    <div class="intro-card">
      <h1 class="intro-title">Créer votre entreprise</h1>
      <p class="intro-sub">
        Donne un nom à ton entreprise et choisis une palette.<br>
        Ce choix est <b>définitif</b> (sauf reset).
      </p>

      <label for="company-name">Nom de l’entreprise</label>
      <input id="company-name" type="text" placeholder="Ex : Nova Mobile" maxlength="28" />

      <label>Palette de marque (8 choix)</label>
      <div class="palette-grid" id="palette-grid"></div>

      <button class="btn btn-primary" id="start-btn" type="button">Créer mon entreprise</button>

      <div class="intro-note">
        Astuce : choisis une palette lisible — elle te suivra toute la partie.
      </div>
    </div>
  </div>

  <!-- GAME -->
  <header id="header" style="display:none">
    <div class="brand-banner">
      <div class="company">
        <div id="company-title">Entreprise</div>
        <div class="tag">2000 → 2030</div>
      </div>
    </div>

    <div class="top-row">
      <div class="kpi">
        <span class="pill" id="kpi-date">Année : 2000 / Trimestre : Q1</span>

        <span class="pill">
          <span class="has-tip" data-tip="Réputation de l’entreprise (0–100). Influence la confiance et la tolérance du marché.">
            Réputation
          </span>
          <b id="kpi-brand">35</b><span class="pill-suffix">/100</span>
        </span>

        <span class="pill">
          <span class="has-tip" data-tip="Trésorerie disponible. Si tu passes sous 0, tu es en difficulté.">
            Trésorerie
          </span>
          <b id="kpi-cash">$250.0k</b>
        </span>

        <span class="pill">
          <span class="has-tip" data-tip="Valorisation (bourse). Dépend des profits, de la réputation et du marché.">
            Valorisation
          </span>
          <b id="kpi-mcap">$2.00M</b>
        </span>

        <span class="pill">
          <span class="has-tip" data-tip="Part de marché estimée ce trimestre.">
            Parts de marché
          </span>
          <b id="kpi-share">8.0%</b>
        </span>

        <span class="pill pill-muted">
          <span class="has-tip" data-tip="Conjoncture globale (qualitative). Impacte le volume total et la valorisation.">
            Marché
          </span>
          <span id="kpi-macro-value">Marché normal</span>
        </span>
      </div>
    </div>
  </header>

  <main id="main" style="display:none">

    <!-- PRODUIT -->
    <section class="card" id="screen-product">
      <h3>Produit &amp; OS</h3>

      <div class="interactive-block">
        <div class="row">
          <div>
            <label>
              <span class="has-tip" data-tip="Choisis ton segment. Impacte les attentes clients et les volumes potentiels.">
                Positionnement produit
              </span>
            </label>

            <div class="chip-group" id="tier-chips">
              <button class="chip" type="button" data-value="budget">Budget<small>Volume ↑ / marge ↓</small></button>
              <button class="chip" type="button" data-value="mainstream">Mainstream<small>Équilibre</small></button>
              <button class="chip" type="button" data-value="premium">Premium<small>Marge ↑ / volume ↓</small></button>
            </div>

            <label>
              <span class="has-tip" data-tip="Qualité produit (0–100). Plus haut = produit plus désirable, mais plus coûteux.">
                Qualité produit (0–100)
              </span>
            </label>
            <input type="range" id="perf" min="10" max="100" value="55" />
            <div class="muted">Score : <b id="perf-val">55</b></div>
          </div>

          <div>
            <label>
              <span class="has-tip" data-tip="Prix de vente. Plus haut = marge ↑ mais volume ↓ si trop cher.">
                Prix de vente (USD)
              </span>
            </label>
            <input type="number" id="price" min="50" step="10" value="399" />

            <label>
              <span class="has-tip" data-tip="R&D trimestrielle. Développe/fiabilise l’OS (si propriétaire) et améliore la techno.">
                Budget R&amp;D (USD)
              </span>
            </label>
            <input type="number" id="rnd" min="0" step="10000" value="30000" />
          </div>
        </div>

        <div class="spacer"></div>

        <label>
          <span class="has-tip" data-tip="Sous licence : rapide mais royalties. Propriétaire : long et coûteux, mais indépendant.">
            Stratégie OS
          </span>
        </label>

        <div class="chip-group" id="os-chips">
          <button class="chip" type="button" data-value="license">Sous licence<small>Rapide / royalties</small></button>
          <button class="chip" type="button" data-value="closed">Propriétaire fermé<small>Premium / long R&amp;D</small></button>
          <button class="chip" type="button" data-value="open">Propriétaire ouvert<small>Très long / licences</small></button>
        </div>

        <div class="muted">
          <span class="has-tip" data-tip="Maturité OS (0–100). Plus haut = stabilité et satisfaction client.">Maturité OS</span> :
          <b id="os-maturity">10</b>/100
        </div>

        <div class="muted">
          <span class="has-tip" data-tip="Écosystème d’apps (0–100). Plus haut = plus d’apps/partenaires (utile surtout si OS propriétaire).">Écosystème d’apps</span> :
          <b id="dev-attract">10</b>/100
        </div>

        <div class="mini-bar" aria-label="Écosystème d'apps">
          <span id="dev-bar" style="width:10%"></span>
        </div>
      </div>

      <div class="info-block">
        <div class="badge">
          <span class="has-tip" data-tip="Attractivité (0–100) = résumé prix + qualité + réputation (estimatif).">
            Attractivité produit
          </span>
          <b><span id="prod-attract">0</span>/100</b>
        </div>

        <div class="badge">
          <span class="has-tip" data-tip="Indication qualitative (pas une certitude) de l'intérêt global du marché pour ton offre.">
            Intérêt du marché (estim.)
          </span>
          <b id="market-interest">—</b>
        </div>

        <div class="actions">
          <button class="secondary" id="btn-save" type="button">Sauver</button>
          <button class="danger" id="btn-reset" type="button">Reset run</button>
        </div>
      </div>
    </section>

    <!-- PRODUCTION -->
    <section class="card" id="screen-production" style="display:none">
      <h3>Production</h3>

      <div class="interactive-block">
        <div class="row">
          <div>
            <label>Capacité (unités / trimestre)</label>
            <input type="number" id="capacity" min="100" step="50" value="1000" />
          </div>
          <div>
            <label>Qualité process (0–100)</label>
            <input type="range" id="qprocess" min="0" max="100" value="45" />
          </div>
        </div>

        <div class="row">
          <div>
            <label>Stock composants (unités)</label>
            <input type="number" id="stock" min="0" step="100" value="1200" />
          </div>
          <div>
            <label>Achat composants (ce trimestre)</label>
            <input type="number" id="buy" min="0" step="100" value="1000" />
          </div>
        </div>
      </div>

      <div class="info-block">
        <div class="badge">
          <span>SAV attendu</span>
          <b id="defect-preview">0.0%</b>
        </div>
      </div>
    </section>

    <!-- MARCHE -->
    <section class="card" id="screen-market" style="display:none">
      <h3>Marché</h3>

      <div class="interactive-block">
        <div class="row">
          <div>
            <label>Marketing (USD)</label>
            <input type="number" id="mkt" min="0" step="10000" value="20000" />
          </div>
          <div>
            <label>Distribution</label>
            <select id="channel" class="select">
              <option value="b2b">B2B (stable, volumes bas)</option>
              <option value="retail" selected>Retail (standard)</option>
              <option value="carrier">Opérateurs (volume, marge plus faible)</option>
            </select>
          </div>
        </div>
      </div>

      <div class="info-block">
        <pre id="market-readout">…</pre>
      </div>
    </section>

    <!-- BILAN -->
    <section class="card" id="screen-report" style="display:none">
      <h3>Bilan du trimestre</h3>

      <div class="info-block">
        <pre id="report">Lance un trimestre pour voir le bilan.</pre>
      </div>

      <div class="actions">
        <button id="btn-next" class="btn-primary" type="button">Lancer le trimestre</button>
      </div>
    </section>

  </main>

  <nav id="nav" style="display:none">
    <button data-screen="product" class="active" type="button">Produit</button>
    <button data-screen="production" type="button">Prod</button>
    <button data-screen="market" type="button">Marché</button>
    <button data-screen="report" type="button">Bilan</button>
  </nav>

  <script src="./app.js?v=1" defer></script>
</body>
</html>